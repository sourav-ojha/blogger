import{R as e,u as d,N as v,a as f,L as o,r as k,O as S}from"./index.4684735b.js";import{B as g,A as h,a as _,D as b}from"./index.esm.a3addc04.js";import{h as C}from"./moment.9709ab41.js";import{F as P}from"./index.esm.b0ca7820.js";import{T as x,M as T}from"./index.esm.6b45c3ee.js";import"./sweetalert2.all.c9a96007.js";const i=({Icon:t,label:a,linkTo:l="/",onClick:s,active:n})=>e.createElement("li",null,e.createElement(v,{to:l,className:`flex items-center p-2 py-2 text-lg font-normal text-gray-900 rounded-lg dark:text-white hover:bg-gray-100 dark:hover:bg-gray-700
        ${n&&"border text-blue-500 border-blue-500"}`},t&&e.createElement(t,{className:"text-xl"}),e.createElement("span",{className:"ml-3 flex-1 whitespace-nowrap",onClick:s},a),n&&e.createElement("span",{className:"inline-flex justify-center items-center p-3 ml-3  h-3 text-sm font-medium"},e.createElement(P,{className:"text-blue-500"})))),j=()=>e.createElement("aside",{className:"w-full relative ","aria-label":"Sidebar"},e.createElement("div",{className:"overflow-y-auto w-52 absolute top-3 right-3 py-4 px-3 bg-white rounded dark:bg-gray-800",style:{backgroundColor:"rgb(248, 249, 250)"}},e.createElement("ul",{className:"space-y-1"},e.createElement(i,{Icon:g,label:"Feed",linkTo:"/"}),e.createElement(i,{Icon:g,label:"Create Post",linkTo:"/blog/create"}),e.createElement(i,{Icon:g,label:"My Posts",linkTo:"/myposts"}))),e.createElement(y,null)),y=({style:t})=>{const{category:a,searchPosts:l,getPosts:s}=d(),[n,m]=e.useState(""),u=r=>{if(console.log(r),r===n){s(),m("");return}l(r),m(r)};return e.createElement("div",{className:"overflow-y-auto w-52 absolute top-48 right-3 py-4 px-3 bg-white rounded dark:bg-gray-800",style:{backgroundColor:"rgb(248, 249, 250)",...t}},e.createElement("h3",{className:"text-lg p-2 font-semibold text-gray-700 dark:text-gray-200"},"Categories"),e.createElement("ul",{className:"space-y-1"},a&&a.length>0&&a.map(r=>e.createElement(i,{label:r,linkTo:"/",key:r,onClick:()=>u(r),active:n===r}))))},E=({post:t})=>{let a=C(t.published_date).fromNow();return e.createElement(o,{to:`${t.url}`,className:"w-10/12 p-4 flex  gap-3 rounded-md  border-b justify-between hover:shadow-lg transition-all duration-300 cursor-pointer "},e.createElement("div",{className:"w-12 h-12"},e.createElement(h,{alt:"User settings",img:t.cover_img,size:"md",rounded:!0})),e.createElement("div",{className:"w-full flex-1 flex flex-col justify-between"},e.createElement("h3",{className:"text-xl  font-medium"},t.title),e.createElement("p",{className:"text-md  text-gray-500"}," ",t.full_name),e.createElement("div",{className:"flex items-center gap-5 pt-1 text-lg text-gray-500"},e.createElement("div",{className:"text-sm text-gray-500"},a),e.createElement("div",{className:"flex gap-1  text-md text-blue-700"},e.createElement(_,{className:"text-2xl"}),e.createElement("p",null," ",t.like_count)))))},L=()=>{const{trendingPosts:t}=d(),{user:a}=f();return e.createElement("aside",{className:"w-full relative ","aria-label":"Sidebar"},a?e.createElement("div",{className:"overflow-y-auto w-96 h-[89vh] absolute top-3 left-3 py-4 px-3 bg-white rounded-md dark:bg-gray-800"},e.createElement("div",{className:"w-full  p-1 flex justify-between items-center "},e.createElement("h3",{className:"text-3xl font-semibold right_sidebar_heading "},"Trending"),e.createElement("div",{className:"p-2 px-4 rounded-4xl border"},"See All")),e.createElement("ul",{className:"space-y-1"},t.map(l=>e.createElement(E,{post:l,key:l.post_id})))):e.createElement(e.Fragment,null,e.createElement("div",{className:"overflow-y-auto w-96 h-[56vh] absolute top-3 left-3 py-4 px-3 bg-white rounded-md dark:bg-gray-800"},e.createElement("div",{className:"w-full  p-1 flex justify-between items-center "},e.createElement("h3",{className:"text-3xl font-semibold right_sidebar_heading "},"Trending"),e.createElement("div",{className:"p-2 px-4 rounded-4xl border"},"See All")),e.createElement("ul",{className:"space-y-1"},t.map(l=>e.createElement(E,{post:l,key:l.post_id})))),e.createElement(y,{style:{width:"24rem",top:"58vh",left:"12px"}})))},A=()=>{const{getPosts:t,isError:a,errorMessage:l,successMessage:s}=d(),{token:n}=f();return e.useEffect(()=>{t(),console.log("first render")},[]),k.exports.useEffect(()=>{console.log("rendered"),a&&x.fire({icon:"error",title:l}),s&&(console.log("success"),x.fire({icon:"success",title:s}))},[a,s]),e.createElement("div",{className:"flex-1 flex  bg-gray-100"},n?e.createElement("div",{className:" hidden md:block w-1/5 bg-gray-100 "},e.createElement(j,null)):e.createElement("div",{className:" hidden md:block w-1/6 bg-gray-100 "}),e.createElement("div",{className:"flex-1"},e.createElement("div",{className:"w-full relative ","aria-label":"Sidebar"},e.createElement("div",{className:"overflow-y-auto w-full h-[89vh] absolute top-3  py-4 px-3 bg-white rounded-md dark:bg-gray-800"},e.createElement(S,null)))),e.createElement("div",{className:" hidden md:block w-2/6 bg-gray-100 "},e.createElement(L,null)))},M=()=>{const{logout:t,user:a,token:l}=f(),{searchPosts:s,getPosts:n}=d(),m=()=>{t()};function u(c,N=300){let p;return(...w)=>{clearTimeout(p),p=setTimeout(()=>{c.apply(this,w)},N)}}const r=c=>{c.target.value.length>1?s(c.target.value):n()};return e.createElement("nav",{className:"bg-white border-gray-200 px-2 sm:px-4 py-4 rounded dark:bg-gray-900"},e.createElement("div",{className:"container flex flex-wrap justify-between items-center mx-auto"},e.createElement(o,{to:"/",className:"flex items-center"},e.createElement("img",{src:"/vite.svg",className:"mr-3 h-6 sm:h-9",alt:"Flowbite Logo"}),e.createElement("span",{className:"self-center text-xl font-semibold whitespace-nowrap dark:text-white"},"Blogger")),e.createElement("div",{className:"hidden sm:block w-1/2"},e.createElement("div",{className:"relative"},e.createElement("div",{className:" inline-flex items-center justify-center absolute left-0 top-0 h-full w-12 text-2xl text-gray-400"},e.createElement(T,null)),e.createElement("input",{type:"text",className:"w-full h-12 pl-10 pr-4 rounded-2xl border border-gray-300 focus:border-blue-500 focus:outline-none dark:bg-gray-800 dark:border-gray-700 dark:text-white",placeholder:"Search for tags, article and many more ",onChange:u(c=>r(c),500)}))),e.createElement("div",{className:"flex md:order-2"},a?e.createElement(b,{arrowIcon:!1,inline:!0,label:e.createElement(h,{alt:"User settings",img:"/profile.jpg",rounded:!0})},e.createElement(b.Header,null,e.createElement(e.Fragment,null,e.createElement("span",{className:"block text-md"},a.full_name),e.createElement("span",{className:"block text-sm"},"( ",a.username," )"),e.createElement("span",{className:"block truncate text-sm font-medium"},a.email))),l&&e.createElement(b.Item,{onClick:m},"Sign out")):e.createElement("div",{className:"flex gap-2 justify-center"},e.createElement(o,{to:"/signin",className:"mt-2 "},e.createElement("button",{className:"border p-2 px-4 rounded-3xl bg-blue-500 hover:bg-blue-400 text-white "},"Signin")),e.createElement(o,{to:"/signup",className:"mt-2 "},e.createElement("button",{className:"border p-2 px-4 rounded-3xl bg-white text-blue-500 hover:bg-gray-100 "},"Signup"))))))},H=()=>e.createElement("div",{className:"w-screen h-screen flex flex-col "},e.createElement(M,null),e.createElement(A,null));export{H as default};
